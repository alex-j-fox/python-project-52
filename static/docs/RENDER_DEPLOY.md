# Развертывание проекта на render.com
Вам нужно выполнить следующие шаги:

- зарегистрируйтесь на [render.com](https://dashboard.render.com/register) со своей учетной записью GitHub
 
![img_3.png](img_3.png)

## Создание веб-сервиса для проекта
- создайте новый веб-сервис

![img_1.png](img_1.png)

- для этого выберите свой публичный репозиторий на GitHub

![img_5.png](img_5.png)

- далее заполните поля:
- `Имя`

![img_6.png](img_6.png)

- `Команда сборки` - *для этой цели в проекте есть файл* `.build.sh`
- `Команда запуска`
- и не забудьте указать бесплатный тарифный план

![img_7.png](img_7.png)

- еще нужно создать несколько переменных среды `Environment Variables`

![img_8.png](img_8.png)

### Подробнее об этих переменных
```CREATE_SUPERUSER = True``` - нужна для создания суперпользователя в административной панели.
Наличие этой переменной необходимо для выполнения скрипта `build.sh`, который содержит в себе код: 
```
if [[ $CREATE_SUPERUSER ]];
then
  python world_champ_2022/manage.py createsuperuser --no-input
fi
``` 
Эта переменная должна использоваться при первом развертывании проекта. Суперпользователь будет создан автоматически.
Проверьте свой веб-сайт, чтобы убедиться в этом. Если все в порядке, то перед следующим развертыванием вы можете удалить переменную из вашей среды, чтобы фрагмент в build.sh не выполнялся при ваших следующих сборках.

`DATABASE_URL` - сюда мы передаем `Internal Database URL` для подключения базы данных на сервисе Render.

`DEBUG = False` - необходимо для отключения отладочного режима приложения.

`DJANGO_SUPERUSER_EMAIL` - email для создания суперпользователя.

`DJANGO_SUPERUSER_PASSWORD` - пароль для создания суперпользователя.

`DJANGO_SUPERUSER_USERNAME` - имя для создания суперпользователя.

`ROLLBAR_ACCESS_TOKEN` - (опционально) нужен для отслеживания ошибок приложения, если вы будете  использовать Rollbar.

`SECRET_KEY` - `Secret Key`, который передается в settings.py вашего проекта Django.

## Создание базы данных.
- следующий шаг - создание базы данных PostgreSQL.

![img_9.png](img_9.png)

- вам также нужно заполнить поле `Name`, выбрать нужную версию `PostgreSQL Version` и выбрать бесплатный тарифный план.
После этого нажмите на кнопку `Create Database`.

- теперь в настройках базы данных нам нужно получить `Internal Database URL`

![img_10.png](img_10.png)

- полученный URL мы сохраняем в переменную `DATABASE_URL` (смотри выше).
- после этого переходим в `Dashboard`, выбираем наш веб-сервер с проектом, и в открывшемся окне нажимаем `Manual Deploy`.

![img_11.png](img_11.png)

- ждём появления записи об успешном развертывании.

![img_12.png](img_12.png)

- Поздравляю! Вы успешно задеплоили Ваш проект!
